<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PitchBot - MayaLogic Demo</title>
    <meta name="description" content="Interactive elevator pitch demo for MayaLogic voice assistant">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --accent: #06b6d4;
            --bg: #0f172a;
            --card: #1e293b;
            --card-border: #334155;
            --text: #f8fafc;
            --muted: #94a3b8;
            --success: #10b981;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            line-height: 1.6;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
        }
        header {
            text-align: center;
            margin-bottom: 3rem;
        }
        .back-link {
            display: inline-block;
            color: var(--muted);
            text-decoration: none;
            font-size: 0.875rem;
            margin-bottom: 1rem;
            transition: color 0.2s;
        }
        .back-link:hover {
            color: var(--primary);
        }
        h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .subtitle {
            color: var(--muted);
            font-size: 1.125rem;
        }

        /* Trade Selector */
        .trades {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 2rem;
        }
        .trade-btn {
            padding: 0.75rem 1.5rem;
            border: 2px solid var(--card-border);
            background: var(--card);
            color: var(--muted);
            border-radius: 50px;
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
        }
        .trade-btn:hover {
            border-color: var(--primary);
            color: var(--primary);
        }
        .trade-btn.active {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        /* Pitch Card */
        .pitch-card {
            background: var(--card);
            border: 1px solid var(--card-border);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 1.5rem;
        }
        .pitch-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        .pitch-label {
            font-size: 0.75rem;
            color: var(--muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 600;
        }
        .word-badge {
            font-size: 0.75rem;
            padding: 0.25rem 0.75rem;
            background: rgba(16, 185, 129, 0.15);
            color: var(--success);
            border-radius: 50px;
            font-weight: 500;
        }
        .pitch-text {
            font-size: 1.35rem;
            line-height: 1.9;
            color: var(--text);
        }

        /* Follow-ups */
        .follow-ups {
            background: var(--card);
            border: 1px solid var(--card-border);
            border-radius: 12px;
            padding: 1.25rem 1.5rem;
            margin-bottom: 2rem;
        }
        .follow-ups-label {
            font-size: 0.75rem;
            color: var(--muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        .follow-ups-text {
            color: var(--accent);
            font-weight: 500;
        }

        /* Controls */
        .controls {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }
        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }
        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        .btn-secondary {
            background: var(--card);
            color: var(--muted);
            border: 1px solid var(--card-border);
        }
        .btn-secondary:hover {
            border-color: var(--primary);
            color: var(--primary);
        }
        .btn svg {
            flex-shrink: 0;
        }

        /* Speaking animation */
        .speaking .btn-primary {
            animation: pulse 1.5s ease-in-out infinite;
        }
        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(37, 99, 235, 0.4); }
            50% { box-shadow: 0 0 0 12px rgba(37, 99, 235, 0); }
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 2rem;
            color: var(--muted);
            font-size: 0.875rem;
        }
        footer a {
            color: var(--primary);
            text-decoration: none;
        }
        footer a:hover {
            text-decoration: underline;
        }

        /* Mobile */
        @media (max-width: 640px) {
            h1 { font-size: 2rem; }
            .pitch-text { font-size: 1.15rem; }
            .container { padding: 1rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="/" class="back-link">&larr; Back to MayaLogic</a>
            <h1>PitchBot</h1>
            <p class="subtitle">30-Second Elevator Pitch Demo</p>
        </header>

        <div class="trades" role="tablist">
            <button class="trade-btn active" data-trade="general" role="tab" aria-selected="true">General</button>
            <button class="trade-btn" data-trade="plumber" role="tab" aria-selected="false">Plumber</button>
            <button class="trade-btn" data-trade="electrician" role="tab" aria-selected="false">Electrician</button>
            <button class="trade-btn" data-trade="hvac" role="tab" aria-selected="false">HVAC</button>
        </div>

        <div class="pitch-card">
            <div class="pitch-header">
                <span class="pitch-label">Elevator Pitch</span>
                <span class="word-badge" id="wordBadge">67 words</span>
            </div>
            <p class="pitch-text" id="pitchText"></p>
        </div>

        <div class="follow-ups">
            <div class="follow-ups-label">Suggested Follow-ups</div>
            <div class="follow-ups-text">"Want to hear more about invoicing, pricing, or scheduling?"</div>
        </div>

        <div class="controls" id="controls">
            <button class="btn btn-primary" id="speakBtn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M11 5L6 9H2v6h4l5 4V5z"/>
                    <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"/>
                </svg>
                <span id="speakBtnText">Speak Pitch</span>
            </button>
            <button class="btn btn-secondary" id="stopBtn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="6" y="4" width="4" height="16"/>
                    <rect x="14" y="4" width="4" height="16"/>
                </svg>
                Stop
            </button>
        </div>
    </div>

    <footer>
        <p>Built with <a href="https://github.com/artiefissio/mayalogic">MayaLogic</a> &mdash; Voice-first assistant for contractors</p>
    </footer>

    <script>
        // Pitch content (PAS framework: Problem, Agitate, Solve)
        const pitches = {
            general: "Running a trade business means juggling estimates, invoices, and material costs. Every minute on paperwork is a minute you're not billing. MayaLogic handles it all by voice—and runs locally first, so your data stays private and costs stay low. Cloud AI kicks in only when needed. Just speak, and your hands stay on the job.",
            plumber: "Tired of paperwork eating your evenings? Every hour on invoices is an hour you're not billing. MayaLogic handles estimates, invoices, and pricing by voice. It runs on local AI first—fast, private, no per-query fees. Cloud backup only when needed.",
            electrician: "Losing time on NEC lookups and panel calculations? Those manual calculations slow every job. MayaLogic knows wire sizing, box fill, and code requirements—powered by local AI for instant answers. No cloud latency, no API costs. Just ask, hands-free.",
            hvac: "Spending too long on load calculations and equipment sizing? Manual math eats into your service calls. MayaLogic handles BTU calculations, refrigerant charges, and invoicing by voice. Local AI runs first—fast and private. Cloud escalates only for complex tasks."
        };

        const followUps = ["invoicing", "pricing", "scheduling"];
        let currentTrade = "general";

        function updatePitch(trade) {
            currentTrade = trade;
            const pitch = pitches[trade];
            const words = pitch.split(/\s+/).length;

            document.getElementById('pitchText').textContent = pitch;
            document.getElementById('wordBadge').textContent = words + ' words';

            // Update active button
            document.querySelectorAll('.trade-btn').forEach(function(btn) {
                const isActive = btn.dataset.trade === trade;
                btn.classList.toggle('active', isActive);
                btn.setAttribute('aria-selected', isActive);
            });
        }

        function speakPitch() {
            // Stop any current speech
            speechSynthesis.cancel();

            const pitch = pitches[currentTrade];
            const followUp = 'Want to hear more about ' + followUps.slice(0, -1).join(', ') + ', or ' + followUps.slice(-1) + '?';

            const utterance = new SpeechSynthesisUtterance(pitch + ' ' + followUp);
            utterance.rate = 1.0;
            utterance.pitch = 1.0;

            const btn = document.getElementById('speakBtn');
            const btnText = document.getElementById('speakBtnText');
            const controls = document.getElementById('controls');

            controls.classList.add('speaking');
            btnText.textContent = 'Speaking...';
            btn.disabled = true;

            utterance.onend = resetButton;
            utterance.onerror = resetButton;

            speechSynthesis.speak(utterance);
        }

        function stopSpeaking() {
            speechSynthesis.cancel();
            resetButton();
        }

        function resetButton() {
            var btn = document.getElementById('speakBtn');
            var btnText = document.getElementById('speakBtnText');
            var controls = document.getElementById('controls');
            controls.classList.remove('speaking');
            btn.disabled = false;
            btnText.textContent = 'Speak Pitch';
        }

        // Event listeners
        document.getElementById('speakBtn').addEventListener('click', speakPitch);
        document.getElementById('stopBtn').addEventListener('click', stopSpeaking);

        document.querySelectorAll('.trade-btn').forEach(function(btn) {
            btn.addEventListener('click', function() {
                updatePitch(btn.dataset.trade);
            });
        });

        // Load initial pitch
        updatePitch('general');
    </script>
</body>
</html>
